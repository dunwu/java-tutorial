---
title: Spring Bean
date: 2021-12-10 19:15:42
order: 01
categories:
  - Java
  - æ¡†æ¶
  - Spring
  - Springæ ¸å¿ƒ
tags:
  - Java
  - æ¡†æ¶
  - Spring
  - Bean
  - BeanDefinition
permalink: /pages/68097d/
---

# Spring Bean

åœ¨ Spring ä¸­ï¼Œæ„æˆåº”ç”¨ç¨‹åºä¸»ä½“ç”± Spring IoC å®¹å™¨ç®¡ç†çš„å¯¹è±¡ç§°ä¸º Beanã€‚**Bean æ˜¯ç”± Spring IoC å®¹å™¨å®ä¾‹åŒ–ã€è£…é…å’Œç®¡ç†çš„å¯¹è±¡**ã€‚ Bean ä»¥åŠå®ƒä»¬ä¹‹é—´çš„ä¾èµ–å…³ç³»åæ˜ åœ¨å®¹å™¨ä½¿ç”¨çš„é…ç½®å…ƒæ•°æ®ä¸­ã€‚

## Spring Bean å®šä¹‰

### BeanDefinition

Spring IoC å®¹å™¨æœ¬èº«ï¼Œå¹¶ä¸èƒ½è¯†åˆ«é…ç½®çš„å…ƒæ•°æ®ã€‚ä¸ºæ­¤ï¼Œè¦å°†è¿™äº›é…ç½®ä¿¡æ¯è½¬ä¸º Spring èƒ½è¯†åˆ«çš„æ ¼å¼â€”â€”`BeanDefinition` å¯¹è±¡ã€‚

**`BeanDefinition` æ˜¯ Spring ä¸­å®šä¹‰ Bean çš„é…ç½®å…ƒä¿¡æ¯æ¥å£**ï¼Œå®ƒåŒ…å«ï¼š

- Bean ç±»å
- Bean è¡Œä¸ºé…ç½®å…ƒç´ ï¼Œå¦‚ï¼šä½œç”¨åŸŸã€è‡ªåŠ¨ç»‘å®šçš„æ¨¡å¼ã€ç”Ÿå‘½å‘¨æœŸå›è°ƒç­‰
- å…¶ä»– Bean å¼•ç”¨ï¼Œä¹Ÿå¯ç§°ä¸ºåˆä½œè€…ï¼ˆCollaboratorsï¼‰æˆ–ä¾èµ–ï¼ˆDependenciesï¼‰
- é…ç½®è®¾ç½®ï¼Œå¦‚ Bean å±æ€§ï¼ˆPropertiesï¼‰

#### BeanDefinition å…ƒä¿¡æ¯

`BeanDefinition` å…ƒä¿¡æ¯å¦‚ä¸‹ï¼š

| å±æ€§ï¼ˆPropertyï¼‰                                                                                                                                | è¯´æ˜                                             |
| ----------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------ |
| [Class](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-class)                                      | å…¨ç±»åï¼Œå¿…é¡»æ˜¯å…·ä½“ç±»ï¼Œä¸èƒ½ç”¨æŠ½è±¡ç±»æˆ–æ¥å£         |
| [Name](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-beanname)                                            | Bean çš„åç§°æˆ–è€… ID                               |
| [Scope](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-scopes)                                     | Bean çš„ä½œç”¨åŸŸï¼ˆå¦‚ï¼š`singleton`ã€`prototype` ç­‰ï¼‰ |
| [Constructor arguments](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-collaborators)              | Bean æ„é€ å™¨å‚æ•°ï¼ˆç”¨äºä¾èµ–æ³¨å…¥ï¼‰                  |
| [Properties](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-collaborators)                         | Bean å±æ€§è®¾ç½®ï¼ˆç”¨äºä¾èµ–æ³¨å…¥ï¼‰                    |
| [Autowiring mode](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-autowire)                         | Bean è‡ªåŠ¨ç»‘å®šæ¨¡å¼ï¼ˆå¦‚ï¼šé€šè¿‡åç§° byNameï¼‰         |
| [Lazy initialization mode](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-lazy-init)               | Bean å»¶è¿Ÿåˆå§‹åŒ–æ¨¡å¼ï¼ˆå»¶è¿Ÿå’Œéå»¶è¿Ÿï¼‰              |
| [Initialization method](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-lifecycle-initializingbean) | Bean åˆå§‹åŒ–å›è°ƒæ–¹æ³•åç§°                          |
| [Destruction method](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-lifecycle-disposablebean)      | Bean é”€æ¯å›è°ƒæ–¹æ³•åç§°                            |

#### BeanDefinition æ„å»º

BeanDefinition æ„å»ºæ–¹å¼ï¼š

- é€šè¿‡ `BeanDefinitionBuilder`

- é€šè¿‡ `AbstractBeanDefinition` ä»¥åŠæ´¾ç”Ÿç±»

> ğŸ’» Spring Bean å®šä¹‰ç¤ºä¾‹æºç ï¼š[BeanDefinitionTests](https://github.com/dunwu/spring-tutorial/blob/master/codes/core/spring-core-ioc/src/test/java/io/github/dunwu/spring/core/bean/BeanDefinitionTests.java)

### Spring Bean å‘½å

#### Spring Bean å‘½åè§„åˆ™

æ¯ä¸ª Bean æ‹¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªæ ‡è¯†ç¬¦ï¼ˆidentifiersï¼‰ï¼Œè¿™äº›æ ‡è¯†ç¬¦åœ¨ Bean æ‰€åœ¨çš„å®¹å™¨å¿…é¡»æ˜¯å”¯ä¸€çš„ã€‚é€šå¸¸ï¼Œä¸€ä¸ª Bean ä»…æœ‰ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼Œå¦‚æœéœ€è¦é¢å¤–çš„ï¼Œå¯è€ƒè™‘ä½¿ç”¨åˆ«åï¼ˆAliasï¼‰æ¥æ‰©å……ã€‚

åœ¨åŸºäº XML çš„é…ç½®å…ƒä¿¡æ¯ä¸­ï¼Œå¼€å‘äººå‘˜**å¯ä»¥ä½¿ç”¨ `id` å±æ€§ã€`name` å±æ€§æˆ–æ¥æŒ‡å®š Bean æ ‡è¯†ç¬¦**ã€‚é€šå¸¸ï¼ŒBean çš„æ ‡è¯†ç¬¦ç”±å­—æ¯ç»„æˆï¼Œå…è®¸å‡ºç°ç‰¹æ®Šå­—ç¬¦ã€‚å¦‚æœè¦æƒ³å¼•å…¥ Bean çš„åˆ«åçš„è¯ï¼Œå¯åœ¨ `name` å±æ€§ä½¿ç”¨åŠè§’é€—å·ï¼ˆâ€œ,â€ï¼‰æˆ–åˆ†å·ï¼ˆâ€œ;â€) æ¥é—´éš”ã€‚

Spring ä¸­ï¼Œ**ä¸º Bean æŒ‡å®š `id` å’Œ `name` å±æ€§ä¸æ˜¯å¿…é¡»çš„**ã€‚å¦‚æœä¸æŒ‡å®šï¼ŒSpring ä¼šè‡ªåŠ¨ä¸º Bean åˆ†é…ä¸€ä¸ªå”¯ä¸€çš„åç§°ã€‚å°½ç®¡ Bean çš„å‘½åæ²¡æœ‰é™åˆ¶ï¼Œä¸è¿‡**å®˜æ–¹å»ºè®®é‡‡ç”¨é©¼å³°å‘½åæ³•æ¥å‘½å Bean**ã€‚

#### Spring Bean å‘½åç”Ÿæˆå™¨

Spring æä¾›äº†ä¸¤ç§ Spring Bean å‘½åç”Ÿæˆå™¨ï¼š

- `DefaultBeanNameGenerator`ï¼šé»˜è®¤é€šç”¨ `BeanNameGenerator` å®ç°ã€‚
- `AnnotationBeanNameGenerator`ï¼šåŸºäºæ³¨è§£æ‰«æçš„ `BeanNameGenerator` å®ç°ã€‚

```java
public interface BeanNameGenerator {
   String generateBeanName(BeanDefinition definition, BeanDefinitionRegistry registry);
}
```

#### Spring Bean åˆ«å

Spring æ”¯æŒé€šè¿‡ `<alias>` å±æ€§ä¸º Bean è®¾ç½®åˆ«åã€‚

Bean åˆ«åï¼ˆAliasï¼‰çš„ä½œç”¨ï¼š

- å¤ç”¨ç°æœ‰çš„ `BeanDefinition`
- æ›´å…·æœ‰åœºæ™¯åŒ–çš„å‘½åæ–¹æ³•ï¼Œæ¯”å¦‚ï¼š
  - `<alias name="myApp-dataSource" alias="subsystemA-dataSource"/>`
  - `<alias name="myApp-dataSource" alias="subsystemB-dataSource"/>`

```xml
<bean id="user" class="io.github.dunwu.spring.core.bean.entity.person.User">
  <!-- å±æ€§ç•¥ -->
</bean>
<alias name="user" alias="aliasUser" />
```

## Spring Bean ç”Ÿå‘½å‘¨æœŸ

![](https://raw.githubusercontent.com/dunwu/images/master/snap/20211201102734.png)

1. Spring å¯¹ Bean è¿›è¡Œå®ä¾‹åŒ–ï¼ˆç›¸å½“äº new XXX()ï¼‰

2. Spring å°†å€¼å’Œå¼•ç”¨æ³¨å…¥åˆ° Bean å¯¹åº”çš„å±æ€§ä¸­

3. å¦‚æœ Bean å®ç°äº† `BeanNameAware` æ¥å£ï¼ŒSpring å°† Bean çš„ ID ä¼ é€’ç»™ `setBeanName` æ–¹æ³•
   - ä½œç”¨æ˜¯é€šè¿‡ Bean çš„å¼•ç”¨æ¥è·å¾— Bean IDï¼Œä¸€èˆ¬ä¸šåŠ¡ä¸­æ˜¯å¾ˆå°‘æœ‰ç”¨åˆ° Bean çš„ ID çš„
4. å¦‚æœ Bean å®ç°äº† `BeanFactoryAware` æ¥å£ï¼ŒSpring å°†è°ƒç”¨ `setBeanDactory` æ–¹æ³•ï¼Œå¹¶æŠŠ `BeanFactory` å®¹å™¨å®ä¾‹ä½œä¸ºå‚æ•°ä¼ å…¥ã€‚
   - ä½œç”¨æ˜¯è·å– Spring å®¹å™¨ï¼Œå¦‚ Bean é€šè¿‡ Spring å®¹å™¨å‘å¸ƒäº‹ä»¶ç­‰
5. å¦‚æœ Bean å®ç°äº† `ApplicationContextAware` æ¥å£ï¼ŒSpring å®¹å™¨å°†è°ƒç”¨ `setApplicationContext` æ–¹æ³•ï¼ŒæŠŠåº”ç”¨ä¸Šä¸‹æ–‡ä½œä¸ºå‚æ•°ä¼ å…¥
   - ä½œç”¨ä¸ `BeanFactory` ç±»ä¼¼éƒ½æ˜¯ä¸ºäº†è·å– Spring å®¹å™¨ï¼Œä¸åŒçš„æ˜¯ Spring å®¹å™¨åœ¨è°ƒç”¨ `setApplicationContext` æ–¹æ³•æ—¶ä¼šæŠŠå®ƒè‡ªå·±ä½œä¸º `setApplicationContext` çš„å‚æ•°ä¼ å…¥ï¼Œè€Œ Spring å®¹å™¨åœ¨è°ƒç”¨ `setBeanFactory` å‰éœ€è¦ä½¿ç”¨è€…è‡ªå·±æŒ‡å®šï¼ˆæ³¨å…¥ï¼‰`setBeanFactory` é‡Œçš„å‚æ•° `BeanFactory`
6. å¦‚æœ Bean å®ç°äº† `BeanPostProcess` æ¥å£ï¼ŒSpring å°†è°ƒç”¨ `postProcessBeforeInitialization` æ–¹æ³•
   - ä½œç”¨æ˜¯åœ¨ Bean å®ä¾‹åˆ›å»ºæˆåŠŸåå¯¹å…¶è¿›è¡Œå¢å¼ºå¤„ç†ï¼Œå¦‚å¯¹ Bean è¿›è¡Œä¿®æ”¹ï¼Œå¢åŠ æŸä¸ªåŠŸèƒ½
7. å¦‚æœ Bean å®ç°äº† `InitializingBean` æ¥å£ï¼ŒSpring å°†è°ƒç”¨ `afterPropertiesSet` æ–¹æ³•ï¼Œä½œç”¨ä¸åœ¨é…ç½®æ–‡ä»¶ä¸­å¯¹ Bean ä½¿ç”¨ `init-method` å£°æ˜åˆå§‹åŒ–çš„ä½œç”¨ä¸€æ ·ï¼Œéƒ½æ˜¯åœ¨ Bean çš„å…¨éƒ¨å±æ€§è®¾ç½®æˆåŠŸåæ‰§è¡Œçš„åˆå§‹åŒ–æ–¹æ³•ã€‚
8. å¦‚æœ Bean å®ç°äº† `BeanPostProcess` æ¥å£ï¼ŒSpring å°†è°ƒç”¨ `postProcessAfterInitialization` æ–¹æ³•
   - `postProcessBeforeInitialization` æ˜¯åœ¨ Bean åˆå§‹åŒ–å‰æ‰§è¡Œçš„ï¼Œè€Œ `postProcessAfterInitialization` æ˜¯åœ¨ Bean åˆå§‹åŒ–åæ‰§è¡Œçš„
9. ç»è¿‡ä»¥ä¸Šçš„å·¥ä½œåï¼ŒBean å°†ä¸€ç›´é©»ç•™åœ¨åº”ç”¨ä¸Šä¸‹æ–‡ä¸­ç»™åº”ç”¨ä½¿ç”¨ï¼Œç›´åˆ°åº”ç”¨ä¸Šä¸‹æ–‡è¢«é”€æ¯
10. å¦‚æœ Bean å®ç°äº† `DispostbleBean` æ¥å£ï¼ŒSpring å°†è°ƒç”¨å®ƒçš„ `destory` æ–¹æ³•ï¼Œä½œç”¨ä¸åœ¨é…ç½®æ–‡ä»¶ä¸­å¯¹ Bean ä½¿ç”¨ `destory-method` å±æ€§çš„ä½œç”¨ä¸€æ ·ï¼Œéƒ½æ˜¯åœ¨ Bean å®ä¾‹é”€æ¯å‰æ‰§è¡Œçš„æ–¹æ³•ã€‚

## Spring Bean æ³¨å†Œ

æ³¨å†Œ Spring Bean å®é™…ä¸Šæ˜¯å°† `BeanDefinition` æ³¨å†Œåˆ° IoC å®¹å™¨ä¸­ã€‚

### XML é…ç½®å…ƒä¿¡æ¯

Spring çš„ä¼ ç»Ÿé…ç½®æ–¹å¼ã€‚åœ¨ `<bean>` æ ‡ç­¾ä¸­é…ç½®å…ƒæ•°æ®å†…å®¹ã€‚

ç¼ºç‚¹æ˜¯å½“ JavaBean è¿‡å¤šæ—¶ï¼Œäº§ç”Ÿçš„é…ç½®æ–‡ä»¶è¶³ä»¥è®©ä½ çœ¼èŠ±ç¼­ä¹±ã€‚

### æ³¨è§£é…ç½®å…ƒä¿¡æ¯

ä½¿ç”¨ `@Bean`ã€`@Component`ã€`@Import` æ³¨è§£æ³¨å†Œ Spring Beanã€‚

### Java API é…ç½®å…ƒä¿¡æ¯

- å‘½åæ–¹å¼ï¼š`BeanDefinitionRegistry#registerBeanDefinition(String,BeanDefinition)`
- éå‘½åæ–¹å¼ï¼š`BeanDefinitionReaderUtils#registerWithGeneratedName(AbstractBeanDefinition,BeanDefinitionRegistry)`
- é…ç½®ç±»æ–¹å¼ï¼š`AnnotatedBeanDefinitionReader#register(Class...)`

> ğŸ’» Spring Bean æ³¨å†Œç¤ºä¾‹æºç ï¼š[BeanRegistryTests](https://github.com/dunwu/spring-tutorial/blob/master/codes/core/spring-core-ioc/src/test/java/io/github/dunwu/spring/core/bean/BeanRegistryTests.java)

## Spring Bean å®ä¾‹åŒ–

Spring Bean å®ä¾‹åŒ–æ–¹å¼ï¼š

- å¸¸è§„æ–¹å¼
  - é€šè¿‡æ„é€ å™¨ï¼ˆé…ç½®å…ƒä¿¡æ¯ï¼šXMLã€Java æ³¨è§£å’Œ Java APIï¼‰
  - é€šè¿‡é™æ€æ–¹æ³•ï¼ˆé…ç½®å…ƒä¿¡æ¯ï¼šXMLã€Java æ³¨è§£å’Œ Java APIï¼‰
  - é€šè¿‡ Bean å·¥å‚æ–¹æ³•ï¼ˆé…ç½®å…ƒä¿¡æ¯ï¼šXMLã€Java æ³¨è§£å’Œ Java APIï¼‰
  - é€šè¿‡ `FactoryBean`ï¼ˆé…ç½®å…ƒä¿¡æ¯ï¼šXMLã€Java æ³¨è§£å’Œ Java APIï¼‰
- ç‰¹æ®Šæ–¹å¼
  - é€šè¿‡ `ServiceLoaderFactoryBean`ï¼ˆé…ç½®å…ƒä¿¡æ¯ï¼šXMLã€Java æ³¨è§£å’Œ Java API ï¼‰
  - é€šè¿‡ `AutowireCapableBeanFactory#createBean(java.lang.Class, int, boolean)`
  - é€šè¿‡ `BeanDefinitionRegistry#registerBeanDefinition(String,BeanDefinition)`

> ğŸ’» Spring Bean å®ä¾‹åŒ–ç¤ºä¾‹æºç ï¼š[BeanInstantiationTests](https://github.com/dunwu/spring-tutorial/blob/master/codes/core/spring-core-ioc/src/test/java/io/github/dunwu/spring/core/bean/BeanInstantiationTests.java)ã€[BeanInstantiationSpecialTests](https://github.com/dunwu/spring-tutorial/blob/master/codes/core/spring-core-ioc/src/test/java/io/github/dunwu/spring/core/bean/BeanInstantiationSpecialTests.java)

## Spring Bean åˆå§‹åŒ–å’Œé”€æ¯

Spring Bean åˆå§‹åŒ–å’Œé”€æ¯çš„æ–¹å¼æœ‰ä»¥ä¸‹å‡ ç§ï¼š

1. ä½¿ç”¨ `@PostConstruct` å’Œ `@PreDestroy` æ³¨è§£åˆ†åˆ«æŒ‡å®šç›¸åº”çš„åˆå§‹åŒ–æ–¹æ³•å’Œé”€æ¯æ–¹æ³•ã€‚
2. å®ç° `InitializingBean` æ¥å£çš„ `afterPropertiesSet()` æ–¹æ³•æ¥ç¼–å†™åˆå§‹åŒ–æ–¹æ³•ï¼›å®ç° `DisposableBean` æ¥å£çš„ `destroy()` æ–¹æ³•æ¥ç¼–å†™é”€æ¯æ–¹æ³•ã€‚

   - `InitializingBean` æ¥å£åŒ…å«ä¸€ä¸ª `afterPropertiesSet` æ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡å®ç°è¯¥æ¥å£ï¼Œç„¶ååœ¨è¿™ä¸ªæ–¹æ³•ä¸­ç¼–å†™åˆå§‹åŒ–é€»è¾‘ã€‚
   - `DisposableBean`æ¥å£åŒ…å«ä¸€ä¸ª `destory` æ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡å®ç°è¯¥æ¥å£ï¼Œç„¶ååœ¨è¿™ä¸ªæ–¹æ³•ä¸­ç¼–å†™é”€æ¯é€»è¾‘ã€‚

3. è‡ªå®šä¹‰åˆå§‹åŒ–æ–¹æ³•
   - XML é…ç½®ï¼š`<bean init-method="init" destroy="destroy" ... />`
   - Java æ³¨è§£ï¼š`@Bean(initMethod = "init", destroyMethod = "destroy")`
   - Java APIï¼š`AbstractBeanDefinition#setInitMethodName(String)` å’Œ `AbstractBeanDefinition#setDestroyMethodName(String)` åˆ†åˆ«å®šä¹‰åˆå§‹åŒ–å’Œé”€æ¯æ–¹æ³•

æ³¨æ„ï¼šå¦‚æœåŒæ—¶å­˜åœ¨ï¼Œæ‰§è¡Œé¡ºåºä¼šæŒ‰ç…§åºåˆ—æ‰§è¡Œã€‚

Bean çš„å»¶è¿Ÿåˆå§‹åŒ–

- xml æ–¹å¼ï¼š`<bean lazy-init="true" ... />`
- æ³¨è§£æ–¹å¼ï¼š`@Lazy`

Spring æä¾›äº†ä¸€ä¸ª `BeanPostProcessor` æ¥å£ï¼Œæä¾›äº†ä¸¤ä¸ªæ–¹æ³• `postProcessBeforeInitialization` å’Œ `postProcessAfterInitialization`ã€‚å…¶ä¸­`postProcessBeforeInitialization` åœ¨ç»„ä»¶çš„åˆå§‹åŒ–æ–¹æ³•è°ƒç”¨ä¹‹å‰æ‰§è¡Œï¼Œ`postProcessAfterInitialization` åœ¨ç»„ä»¶çš„åˆå§‹åŒ–æ–¹æ³•è°ƒç”¨ä¹‹åæ‰§è¡Œã€‚å®ƒä»¬éƒ½åŒ…å«ä¸¤ä¸ªå…¥å‚ï¼š

- `bean`ï¼šå½“å‰ç»„ä»¶å¯¹è±¡ï¼›
- `beanName`ï¼šå½“å‰ç»„ä»¶åœ¨å®¹å™¨ä¸­çš„åç§°ã€‚

> ğŸ’» Spring Bean åˆå§‹åŒ–å’Œé”€æ¯ç¤ºä¾‹æºç ï¼š[BeanInitDestroyTests](https://github.com/dunwu/spring-tutorial/blob/master/codes/core/spring-core-ioc/src/test/java/io/github/dunwu/spring/core/bean/BeanInitDestroyTests.java)

## Spring Bean åƒåœ¾å›æ”¶

Spring Bean åƒåœ¾å›æ”¶æ­¥éª¤ï¼š

1. å…³é—­ Spring å®¹å™¨ï¼ˆåº”ç”¨ä¸Šä¸‹æ–‡ï¼‰
2. æ‰§è¡Œ GC
3. Spring Bean è¦†ç›–çš„ `finalize()` æ–¹æ³•è¢«å›è°ƒ

## Spring Bean ä½œç”¨èŒƒå›´

| Scope                                                                                                                         | Description                                                                                                                                                                                                                                                  |
| :---------------------------------------------------------------------------------------------------------------------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [singleton](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-scopes-singleton)     | (Default) Scopes a single bean definition to a single object instance for each Spring IoC container.                                                                                                                                                         |
| [prototype](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-scopes-prototype)     | Scopes a single bean definition to any number of object instances.                                                                                                                                                                                           |
| [request](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-scopes-request)         | Scopes a single bean definition to the lifecycle of a single HTTP request. That is, each HTTP request has its own instance of a bean created off the back of a single bean definition. Only valid in the context of a web-aware Spring `ApplicationContext`. |
| [session](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-scopes-session)         | Scopes a single bean definition to the lifecycle of an HTTP `Session`. Only valid in the context of a web-aware Spring `ApplicationContext`.                                                                                                                 |
| [application](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-scopes-application) | Scopes a single bean definition to the lifecycle of a `ServletContext`. Only valid in the context of a web-aware Spring `ApplicationContext`.                                                                                                                |
| [websocket](https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#websocket-stomp-websocket-scope)     | Scopes a single bean definition to the lifecycle of a `WebSocket`. Only valid in the context of a web-aware Spring `ApplicationContext`.                                                                                                                     |

## å‚è€ƒèµ„æ–™

- [Spring å®˜æ–¹æ–‡æ¡£ä¹‹ Core Technologies](https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans)
- [ã€Šå°é©¬å“¥è®² Spring æ ¸å¿ƒç¼–ç¨‹æ€æƒ³ã€‹](https://time.geekbang.org/course/intro/265)